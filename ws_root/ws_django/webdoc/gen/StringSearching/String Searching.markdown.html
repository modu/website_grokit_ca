<h1>C++ Interview Question: String Searching</h1>
<h2>Question and Notes</h2>
<h2>Code</h2>
<pre><code>#include &lt;iostream&gt;
#include &lt;cassert&gt;

using namespace std;

int stringSearch(const char* str, const char* w)
{
  size_t strSize = strlen(str);
  size_t wSize = strlen(w);

  if( (wSize == 0) || (wSize &gt; strSize) )
    return -1;

  int matchPos = -1;
  //@tag check condition
  for(size_t i = 0; (i &lt; strSize) &amp;&amp; (matchPos == -1); ++i)
  {
    if( (strSize-i) &gt;= wSize )
      for(size_t j = 0; j &lt; wSize; ++j)
      {
        if(str[i+j] != w[j])
        {
          break;
        }
        else
        {
          if(j == wSize - 1)
            matchPos = i;
        }
      }
  }

  return matchPos;
}

//This is not a currect solution, see tests-cases that fail for that function
int stringSearch_faster(const char* str, const char* w)
{
  size_t strSize = strlen(str);
  size_t wSize = strlen(w);
  for(size_t i = 0; i &lt; strSize; ++i)
  {
    size_t nSkip = 0;
    for(size_t j = 0; j &lt; wSize; ++j)
    {
      if(i + j &gt;= strSize)
        break;
      if(str[i+j] != w[j])
        break;

      //Do not increment the first time around,
      //i increments by one anyway
      if(j != 0)
        ++nSkip;

      if(j == wSize - 1)
        return i;
    }

    i += nSkip;
  }
  return -1;
}

// KMP (Knuth-Morris-Pratt) algorithm
// http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm
// http://www.inf.fh-flensburg.de/lang/algorithmen/pattern/kmpen.htm
int stringSearch_KNP(const char* str, const char* w)
{
  //@tag TODO KNP O(n) string search
  return -1;
}

int useStd(const char* str, const char* w)
{
  char* rv = strstr((char*)str, w);
  if(rv == 0)
    return -1;

  for(size_t i = 0; i &lt; strlen(str); ++i)
  {
    if( rv == &amp;str[i])
      return i;
  }
  return -1;
}

void test_fn( int(*pt2Func)(const char* str, const char* w) )
{

  //cout&lt;&lt; pt2Func("This is a cucucucucup of tea.", "cup") &lt;&lt; endl;

  //cout&lt;&lt; pt2Func("ABC ABCDAB ABCDABCDABDE", "ABCDABD") &lt;&lt; endl;

  assert( pt2Func("aabc", "abc") == 1 );
  assert( pt2Func("ababc", "abc") == 2 );
  assert( pt2Func("This is a cucucucucup of tea.", "cup") == 18 );
  assert( pt2Func("This is a cup of tea.", "cup") == 10 );
  assert( pt2Func("This is a cup of tea.", "cups") == -1 );
  assert( pt2Func("This is a cusp of tea.", "cup") == -1 );
  assert( pt2Func("This is cu a cusp cup of tea.", "cup") == 18 );
}

int main()
{
  cout&lt;&lt;"Begin"&lt;&lt;endl;

  test_fn( useStd );
  test_fn( stringSearch );
  //test_fn( stringSearch_faster );

  cout&lt;&lt;"End"&lt;&lt;endl;
  return 0;
}
</code></pre>
<h2>Code Output</h2>
<pre><code>Begin
End
</code></pre>