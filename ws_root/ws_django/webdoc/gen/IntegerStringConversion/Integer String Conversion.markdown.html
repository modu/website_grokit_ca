<h1>C++ Interview Question: Integer String Conversion</h1>
<h2>Question and Notes</h2>
<h2>Code</h2>
<pre><code>#include &lt;iostream&gt;
#include &lt;cassert&gt;

using namespace std;

//Note: this does not need to be used -- can compute arithmetically,
//      see 'charToDigit_fast;
int charToDigit(char c)
{
  if(c == '0') return 0;
  else if(c == '1') return 1;
  else if(c == '2') return 2;
  else if(c == '3') return 3;
  else if(c == '4') return 4;
  else if(c == '5') return 5;
  else if(c == '6') return 6;
  else if(c == '7') return 7;
  else if(c == '8') return 8;
  else if(c == '9') return 9;
  else
    return -1;
}

int charToDigit_fast(char c)
{
  return (int)c - (int)'0';
}

char digitToChar_slow(int i)
{
  if(i == 0) return '0';
  else if(i == 1) return '1';
  else if(i == 2) return '2';
  else if(i == 3) return '3';
  else if(i == 4) return '4';
  else if(i == 5) return '5';
  else if(i == 6) return '6';
  else if(i == 7) return '7';
  else if(i == 8) return '8';
  else if(i == 9) return '9';
  else
    return 'E';
}

char digitToChar(int n)
{
  return (char)(n + (int)'0');
}

int stringToInt_slow(char str[])
{
  //First mistake: strlen(str) is O(n) -- could there be a way
  //to just iterate in the string and stop at '\0'?
  int str_size = strlen(str);

  int val = 0;
  int base = 1;
  for(int i = str_size - 1; i &gt;= 0; --i)
  {
    if(str[i] == '-')
      break;
    int v = charToDigit(str[i]);
    val = val + v * base;
    base = base * 10;
  }

  if(str[0] == '-')
  {
    val = -val;
  }

  return val;
}

int stringToInt_fast(char str[])
{
  int i = 0;
  int val = 0;
  bool neg = 0;
  if(str[i] == '-')
  {
    ++i;
    neg = true;
  }

  //Does not require to keep track of base
  for(; str[i] != '\0'; ++i)
  {
    val = val*10 + charToDigit_fast(str[i]);
  }

  return (neg == true ? -val:val);
}

void IntToStr(int num, char str[])
{
  if(num == 0)
  {
    str[0] = '0';
    str[1] = '\0';
    return;
  }
  // ** Simplify: make it a positive number
  bool is_neg = num &lt; 0 ? true: false;
  if(is_neg) num = -num;

  str[0] = '\0';//Null-terminated string
  int posInStr = 1;
  while(num &gt; 0)
  {
    //This is slower than modulo:
    //int lastDigit = num - ((num/10)*10);
    //Fast:
    int lastDigit = num % 10;
    num = num/10;
    str[posInStr] = digitToChar(lastDigit);
    ++posInStr;
  }

  // ** Append - if necessary
  if(is_neg)
  {
    str[posInStr] = '-';
    posInStr++;
  }

  // ** Reverse the string

  char buf = '_';
  for(int i = 0; i &lt; posInStr / 2; ++i)
  {
    buf = str[i];
    str[i] = str[posInStr - i - 1];
    str[posInStr - i - 1] = buf;
  }
}

void test_IntToStr(int num, char str[])
{
  char buffer[2048];
  memset(buffer, 0, 2048);
  IntToStr(num, &amp;buffer[0]);
  if( !(0 == strcmp(str, buffer)) )
  {
    cout&lt;&lt;"str: "&lt;&lt;str&lt;&lt;", buffer: "&lt;&lt;buffer&lt;&lt;endl;
    assert(0 == strcmp(str, buffer));
  }
}

int main()
{
  //Assume buffers are long enough
  //Numbers are int, pos. or neg.

  //@note: should point to:
  //       str to int : atoi(), #include &lt;sstream&gt; ... ss&gt;&gt;int_i
  //       int to str : sprintf(), itoa() (but not ANSI), #include &lt;sstream&gt; ... ss&lt;&lt;"1"

  cout&lt;&lt;"Begin"&lt;&lt;endl;

  assert( stringToInt_slow("1") == 1 );
  assert( stringToInt_slow("-1") == -1 );
  assert( stringToInt_slow("0") == 0 );
  assert( stringToInt_slow("1234") == 1234 );
  assert( stringToInt_slow("9345435") == 9345435 );
  assert( stringToInt_slow("-9345435") == -9345435 );
  assert( stringToInt_slow("2147483648") == 2147483648 );

  assert( stringToInt_fast("1") == 1 );
  assert( stringToInt_fast("-1") == -1 );
  assert( stringToInt_fast("0") == 0 );
  assert( stringToInt_fast("1234") == 1234 );
  assert( stringToInt_fast("9345435") == 9345435 );
  assert( stringToInt_fast("-9345435") == -9345435 );
  assert( stringToInt_fast("2147483648") == 2147483648 );

  test_IntToStr(1, "1");
  test_IntToStr(-1, "-1");
  test_IntToStr(0, "0");
  test_IntToStr(-0, "0");
  test_IntToStr(836746, "836746");
  test_IntToStr(-836746, "-836746");
  test_IntToStr(836740, "836740");
  test_IntToStr(-836740, "-836740");
  test_IntToStr(-100000, "-100000");
  test_IntToStr(100000, "100000");

  cout&lt;&lt;"End"&lt;&lt;endl;
  return 0;
}
</code></pre>
<h2>Code Output</h2>
<pre><code>Begin
End
</code></pre>