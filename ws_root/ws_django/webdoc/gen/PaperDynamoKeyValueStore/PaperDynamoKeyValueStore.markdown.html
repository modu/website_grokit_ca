<h1>Paper Reading Note: Dynamo: Amazon's Highly Available Key-value Store</h1>
<p>Dynamo is a key-value NoSQL database service that is designed for high availability and elastic scalability at the cost of lenient consistency. It offers an alternative to relational databases who are constrained by their requirement to support ACID properties which do not scale well horizontally.</p>
<p>The paper goes over a number of concepts that are useful to generic large-scale distributed systems.</p>
<p>Link to paper: <a href="http://dl.acm.org/citation.cfm?id=1294281">http://dl.acm.org/citation.cfm?id=1294281</a>, <a href="http://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf">full pdf</a>.</p>
<p>Keywords: key-value stores, large scale distributed systems</p>
<p>Advantages:</p>
<ul>
<li>Higher throughput for read/writes than relational database. </li>
</ul>
<p>This is mainly due to using “eventual consistency” where a write returns before its data has been replicated to all N copies, allows to return from a read even if the queried node does not have the most recent copy of the data. This is a tradeoff for more availability at the cost of consistency.</p>
<ul>
<li>
<p>Can use nodes of heterogeneous capabilities (will only handle the load it can, allows multiple hardware generations in the same cloud).</p>
</li>
<li>
<p>Elastic by default. You can add/remove nodes to the system without affecting the unchanged nodes or system’s availability.
Distributed by default. Across heterogeneous nodes and distributed to different data centers by default.</p>
</li>
</ul>
<p>Drawbacks:</p>
<ul>
<li>Only supports get() and set(key, metadata, data) operations (as opposed to complex query in relational databases).</li>
<li>Not clear from the paper how to structure data for a service when relational queries are not available.</li>
<li>Requires that client implements merge logic because of the lax consistency requirements.</li>
</ul>
<p>Key Concepts:</p>
<ul>
<li>Consistent hashing to achieve elastic scalability (4.2).</li>
<li>Key partitioning and key-data replication on nodes based on preference lists (4.3).</li>
<li>Eventual consistency as a tradeoff for higher availability (2.1).</li>
<li>Vector clocks for conflict resolution (4.4).</li>
<li>Quorum, sloppy quorum (hinted handoff) and quorum parametrization (4.5, 4.6).</li>
<li>Merkle trees (4.7).</li>
<li>Gossip-based membership protocol (4.8).</li>
</ul>
<h2>Discussion</h2>
<p>The paper does not explain in detail Merkel trees and Gossip-based protocols.</p>
<p>It was not clear to me at first the difference between Dynamo and Amazon S3. Dynamo is for storing/retrieving small objects at very high throughput rates whereas Amazon S3 is used for huge objects that are not queried very frequently.</p>